openapi: 3.0.0
paths:
  /api/auth/verify:
    post:
      operationId: AuthController_verify
      summary: Verificar token Firebase
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AuthVerifyRequestDto"
      responses:
        "200":
          description: Token válido
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthVerifyResponseDto"
        "401":
          description: Token inválido
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: &a1
        - Auth
  /api/auth/refresh:
    post:
      operationId: AuthController_refresh
      summary: Renovar ID Token usando Refresh Token
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AuthRefreshRequestDto"
      responses:
        "200":
          description: Novo ID Token e opcionalmente novo Refresh Token
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthRefreshResponseDto"
        "401":
          description: Refresh token inválido ou expirado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a1
  /api/recipes:
    post:
      operationId: RecipesController_create
      summary: Criar receita
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecipeCreateRequestDto"
      responses:
        "201":
          description: Receita criada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeResponseDto"
        "400":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: &a2
        - Recipes
      security:
        - bearer: []
  /api/recipes/feed:
    get:
      operationId: RecipesController_feed
      summary: Feed de receitas
      parameters:
        - name: limit
          required: false
          in: query
          schema:
            type: number
        - name: cursor
          required: false
          in: query
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeFeedResponseDto"
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a2
      security:
        - bearer: []
  /api/recipes/by-ids:
    get:
      operationId: RecipesController_getByIds
      summary: "Buscar receitas por um ou vários IDs (ex.: tela de favoritos)"
      parameters:
        - name: ids
          required: true
          in: query
          description: "Um id ou vários separados por vírgula (ex.: id1 ou id1,id2,id3)"
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeFeedResponseDto"
      tags: *a2
  /api/recipes/{id}/comments:
    get:
      operationId: RecipesController_getComments
      summary: Listar comentários da receita
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: limit
          required: false
          in: query
          schema:
            type: number
        - name: cursor
          required: false
          in: query
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CommentListResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a2
  /api/recipes/{id}:
    get:
      operationId: RecipesController_getById
      summary: Obter receita por ID (autor vê rascunho)
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a2
    patch:
      operationId: RecipesController_update
      summary: Atualizar receita (só autor)
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecipeUpdateRequestDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeResponseDto"
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "403":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a2
      security:
        - bearer: []
    delete:
      operationId: RecipesController_delete
      summary: Excluir receita (só autor)
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        "204":
          description: Receita excluída
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "403":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a2
      security:
        - bearer: []
    post:
      operationId: RecipesController_createVariation
      summary: Criar variação da receita
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecipeVariationRequestDto"
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeResponseDto"
        "400":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a2
      security:
        - bearer: []
  /api/recipes/{id}/rate:
    get:
      operationId: RecipesController_getMyRating
      summary: Ver se já avaliei esta receita e qual nota
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MyRatingResponseDto"
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a2
      security:
        - bearer: []
    post:
      operationId: RecipesController_rate
      summary: Avaliar ou atualizar avaliação (1–5 estrelas). Uma avaliação por
        usuário por receita.
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RateRequestDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateResponseDto"
        "400":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a2
      security:
        - bearer: []
  /api/recipes/{id}/comment:
    post:
      operationId: RecipesController_comment
      summary: Comentar receita ou responder comentário
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CommentRequestDto"
      responses:
        "201":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CommentResponseDto"
        "400":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a2
      security:
        - bearer: []
  /api/categories:
    get:
      operationId: CategoriesController_findAll
      summary: Listar categorias (id + labels por idioma)
      parameters: []
      responses:
        "200":
          description: Lista de categorias
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CategoryTagItemDto"
      tags:
        - Categories
  /api/tags:
    get:
      operationId: TagsController_findAll
      summary: Listar tags (id + labels por idioma)
      parameters: []
      responses:
        "200":
          description: Lista de tags
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CategoryTagItemDto"
      tags:
        - Tags
  /api/account:
    get:
      operationId: SocialController_getAccount
      summary: Perfil do usuário logado
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserProfileResponseDto"
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: &a3
        - Social
      security:
        - bearer: []
    patch:
      operationId: SocialController_updateAccount
      summary: Atualizar perfil (nome, foto)
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccountUpdateRequestDto"
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserProfileResponseDto"
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a3
      security:
        - bearer: []
    delete:
      operationId: SocialController_deleteAccount
      summary: Excluir conta (soft-delete / LGPD)
      parameters: []
      responses:
        "204":
          description: Conta excluída
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a3
      security:
        - bearer: []
  /api/account/favorites/{recipeId}:
    post:
      operationId: SocialController_addFavorite
      summary: Adicionar receita aos favoritos
      parameters:
        - name: recipeId
          required: true
          in: path
          description: ID da receita
          schema:
            type: string
      responses:
        "200":
          description: Favorito adicionado
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a3
      security:
        - bearer: []
    delete:
      operationId: SocialController_removeFavorite
      summary: Remover receita dos favoritos
      parameters:
        - name: recipeId
          required: true
          in: path
          description: ID da receita
          schema:
            type: string
      responses:
        "204":
          description: Favorito removido
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a3
      security:
        - bearer: []
  /api/account/recipes:
    get:
      operationId: SocialController_getMyRecipes
      summary: Minhas receitas (com opção status=draft)
      parameters:
        - name: limit
          required: false
          in: query
          schema:
            type: number
        - name: cursor
          required: false
          in: query
          schema:
            type: string
        - name: status
          required: false
          in: query
          description: Filtrar por status
          schema:
            enum:
              - published
              - draft
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeFeedResponseDto"
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a3
      security:
        - bearer: []
  /api/users/{id}/profile:
    get:
      operationId: SocialController_getProfile
      summary: Perfil do usuário
      parameters:
        - name: id
          required: true
          in: path
          description: ID do usuário
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserProfileResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a3
  /api/users/{id}/recipes:
    get:
      operationId: SocialController_getUserRecipes
      summary: Receitas publicadas do usuário
      parameters:
        - name: id
          required: true
          in: path
          description: ID do usuário
          schema:
            type: string
        - name: limit
          required: false
          in: query
          schema:
            type: number
        - name: cursor
          required: false
          in: query
          schema:
            type: string
        - name: status
          required: false
          in: query
          description: Só autor pode usar draft
          schema:
            enum:
              - published
              - draft
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeFeedResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a3
  /api/follow/{userId}:
    post:
      operationId: SocialController_follow
      summary: Seguir usuário
      parameters:
        - name: userId
          required: true
          in: path
          description: ID do usuário a seguir
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FollowResponseDto"
        "400":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a3
      security:
        - bearer: []
    delete:
      operationId: SocialController_unfollow
      summary: Deixar de seguir (unfollow)
      parameters:
        - name: userId
          required: true
          in: path
          description: ID do usuário
          schema:
            type: string
      responses:
        "204":
          description: Unfollow realizado
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
        "404":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags: *a3
      security:
        - bearer: []
  /api/search:
    get:
      operationId: SearchController_search
      summary: Buscar receitas e usuários
      parameters:
        - name: query
          required: false
          in: query
          description: Parte do nome da receita (ou nome do usuário)
          schema:
            type: string
        - name: categoryIds
          required: false
          in: query
          description: "Ids de categorias separados por vírgula (ex.: dessert,main)"
          schema:
            type: string
        - name: tagIds
          required: false
          in: query
          description: "Ids de tags separados por vírgula (ex.: vegan,chocolate)"
          schema:
            type: string
        - name: limit
          required: false
          in: query
          schema:
            type: number
        - name: cursor
          required: false
          in: query
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SearchResponseDto"
        "401":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
      tags:
        - Search
      security:
        - bearer: []
info:
  title: Cooka API
  description: Backend API do Cooka – autenticação, receitas, interações sociais,
    rankings e validação de monetização.
  version: 1.0.0
  contact: {}
tags:
  - name: Auth
    description: Autenticação (Firebase)
  - name: Recipes
    description: Receitas
  - name: Ratings
    description: Avaliações e comentários
  - name: Social
    description: Seguidores e perfil
  - name: Search
    description: Busca
  - name: Categories
    description: Categorias (id + labels por idioma)
  - name: Tags
    description: Tags (id + labels por idioma)
servers: []
components:
  securitySchemes:
    bearerAuth:
      scheme: bearer
      bearerFormat: JWT
      type: http
      description: Firebase ID Token
  schemas:
    AuthVerifyRequestDto:
      type: object
      properties:
        idToken:
          type: string
          description: Firebase ID Token
      required:
        - idToken
    UserResponseDto:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        email:
          type: string
        photoUrl:
          type: object
          nullable: true
        followersCount:
          type: number
        followingCount:
          type: number
        popularityScore:
          type: number
        favoriteRecipeIds:
          description: IDs das receitas favoritadas pelo usuário
          type: array
          items:
            type: string
        createdAt:
          type: string
        isAdsFree:
          type: boolean
          default: false
      required:
        - id
        - name
        - email
        - photoUrl
        - followersCount
        - followingCount
        - popularityScore
        - createdAt
    AuthVerifyResponseDto:
      type: object
      properties:
        uid:
          type: string
          description: Firebase UID
        user:
          $ref: "#/components/schemas/UserResponseDto"
        idToken:
          type: string
          description: ID Token (para guardar e usar no Authorization)
        refreshToken:
          type: string
          description: Refresh token (guardar e usar no POST /auth/refresh em 401)
        expiresIn:
          type: number
          description: Expiração do ID Token em segundos
      required:
        - uid
        - user
    ErrorResponseDto:
      type: object
      properties:
        statusCode:
          type: number
        message:
          type: string
        error:
          type: object
          nullable: true
      required:
        - statusCode
        - message
    AuthRefreshRequestDto:
      type: object
      properties:
        refreshToken:
          type: string
          description: Firebase Refresh Token
      required:
        - refreshToken
    AuthRefreshResponseDto:
      type: object
      properties:
        idToken:
          type: string
          description: Novo ID Token (JWT)
        refreshToken:
          type: string
          description: Refresh Token (novo, se o Firebase rotacionar)
        expiresIn:
          type: number
          description: Expiração do ID Token em segundos
      required:
        - idToken
        - expiresIn
    RecipeCreateRequestDto:
      type: object
      properties:
        title:
          type: string
        description:
          type: string
          description: (opcional) Mantido para compatibilidade; preferir ingredients +
            preparationSteps
        ingredients:
          type: object
          description: Texto dos ingredientes (formato livre)
          nullable: true
        preparationSteps:
          type: object
          description: Modo de preparo / passo a passo (formato livre)
          nullable: true
        mediaUrls:
          type: array
          items:
            type: string
        videoUrl:
          type: object
          nullable: true
        categories:
          description: Ids de categorias retornados por GET /api/categories
          type: array
          items:
            type: string
        tags:
          description: Ids de tags retornados por GET /api/tags
          type: array
          items:
            type: string
        status:
          type: string
          enum: &a4
            - published
            - draft
          default: published
      required:
        - title
    RecipeResponseDto:
      type: object
      properties:
        id:
          type: string
        authorId:
          type: string
        title:
          type: string
        description:
          type: string
        ingredients:
          type: object
          description: Texto dos ingredientes (formato livre)
          nullable: true
        preparationSteps:
          type: object
          description: Modo de preparo / passo a passo (formato livre)
          nullable: true
        mediaUrls:
          type: array
          items:
            type: string
        videoUrl:
          type: object
          nullable: true
        categories:
          type: array
          items:
            type: string
        tags:
          type: array
          items:
            type: string
        isVariation:
          type: boolean
          default: false
        parentRecipeId:
          type: object
          nullable: true
        ratingAvg:
          type: number
        ratingsCount:
          type: number
        myRating:
          type: object
          description: Estrelas (1–5) da avaliação do usuário logado nesta receita; só
            presente quando autenticado
          nullable: true
        status:
          type: string
          enum:
            - published
            - draft
          default: published
        createdAt:
          type: string
        author:
          $ref: "#/components/schemas/UserResponseDto"
      required:
        - id
        - authorId
        - title
        - description
        - mediaUrls
        - categories
        - tags
        - isVariation
        - ratingAvg
        - ratingsCount
        - createdAt
    RecipeFeedResponseDto:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: "#/components/schemas/RecipeResponseDto"
        nextCursor:
          type: object
          nullable: true
        hasMore:
          type: boolean
      required:
        - items
        - hasMore
    CommentResponseDto:
      type: object
      properties:
        id:
          type: string
        recipeId:
          type: string
        authorId:
          type: string
        text:
          type: string
        createdAt:
          type: string
        author:
          $ref: "#/components/schemas/UserResponseDto"
        parentId:
          type: string
          description: ID do comentário pai quando for resposta
          nullable: true
        replies:
          description: Respostas ao comentário (só em comentário raiz)
          type: array
          items:
            $ref: "#/components/schemas/CommentResponseDto"
        repliesCount:
          type: number
          description: Quantidade de respostas
      required:
        - id
        - recipeId
        - authorId
        - text
        - createdAt
    CommentListResponseDto:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: "#/components/schemas/CommentResponseDto"
        nextCursor:
          type: string
          nullable: true
          description: Cursor para próxima página
        hasMore:
          type: boolean
      required:
        - items
        - hasMore
    RecipeUpdateRequestDto:
      type: object
      properties:
        title:
          type: string
        description:
          type: string
        ingredients:
          type: object
          description: Texto dos ingredientes (formato livre)
          nullable: true
        preparationSteps:
          type: object
          description: Modo de preparo / passo a passo (formato livre)
          nullable: true
        mediaUrls:
          type: array
          items:
            type: string
        videoUrl:
          type: object
          nullable: true
        categories:
          description: Ids de categorias retornados por GET /api/categories
          type: array
          items:
            type: string
        tags:
          description: Ids de tags retornados por GET /api/tags
          type: array
          items:
            type: string
        status:
          type: string
          enum:
            - published
            - draft
    RecipeVariationRequestDto:
      type: object
      properties:
        title:
          type: string
        description:
          type: string
          description: (opcional) Mantido para compatibilidade; preferir ingredients +
            preparationSteps
        ingredients:
          type: object
          description: Texto dos ingredientes (formato livre)
          nullable: true
        preparationSteps:
          type: object
          description: Modo de preparo / passo a passo (formato livre)
          nullable: true
        mediaUrls:
          type: array
          items:
            type: string
        videoUrl:
          type: object
          nullable: true
        categories:
          description: Ids de categorias retornados por GET /api/categories
          type: array
          items:
            type: string
        tags:
          description: Ids de tags retornados por GET /api/tags
          type: array
          items:
            type: string
        status:
          type: string
          enum: *a4
          default: published
      required:
        - title
    MyRatingResponseDto:
      type: object
      properties:
        rated:
          type: boolean
          description: true se o usuário já avaliou esta receita
        stars:
          type: number
          description: Estrelas (1–5) da avaliação do usuário; presente quando rated ===
            true
          minimum: 1
          maximum: 5
      required:
        - rated
    RateRequestDto:
      type: object
      properties:
        stars:
          type: number
          minimum: 1
          maximum: 5
          description: Estrelas de 1 a 5
      required:
        - stars
    RateResponseDto:
      type: object
      properties:
        recipeId:
          type: string
        userId:
          type: string
        stars:
          type: number
        ratingAvg:
          type: number
        ratingsCount:
          type: number
      required:
        - recipeId
        - userId
        - stars
        - ratingAvg
        - ratingsCount
    CommentRequestDto:
      type: object
      properties:
        text:
          type: string
          description: Texto do comentário
        parentId:
          type: string
          description: ID do comentário raiz quando for resposta
      required:
        - text
    CategoryTagItemDto:
      type: object
      properties:
        id:
          type: string
          description: Identificador estável (slug)
        en:
          type: string
          description: Label em inglês
        pt-br:
          type: string
          description: Label em português Brasil
      required:
        - id
    UserProfileResponseDto:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        email:
          type: string
        photoUrl:
          type: object
          nullable: true
        followersCount:
          type: number
        followingCount:
          type: number
        popularityScore:
          type: number
        favoriteRecipeIds:
          description: IDs das receitas favoritadas pelo usuário
          type: array
          items:
            type: string
        createdAt:
          type: string
        isAdsFree:
          type: boolean
          default: false
      required:
        - id
        - name
        - email
        - photoUrl
        - followersCount
        - followingCount
        - popularityScore
        - createdAt
    AccountUpdateRequestDto:
      type: object
      properties:
        name:
          type: string
          description: Nome do usuário
        photoUrl:
          type: object
          description: URL da foto de perfil
          nullable: true
    FollowResponseDto:
      type: object
      properties:
        followerId:
          type: string
        followingId:
          type: string
        success:
          type: boolean
      required:
        - followerId
        - followingId
        - success
    SearchResponseDto:
      type: object
      properties:
        recipes:
          type: array
          items:
            $ref: "#/components/schemas/RecipeResponseDto"
        users:
          type: array
          items:
            $ref: "#/components/schemas/UserProfileResponseDto"
        nextCursor:
          type: object
          nullable: true
        hasMore:
          type: boolean
      required:
        - recipes
        - users
        - hasMore
